<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="Snorlax's Cave brings your students the best learning methods and skills to help them be the best and most efficient at studying!" />
  <title>Home | Snorlax's Cave</title>
  <meta property="og:image" content="/assets/img/newlogo.png">
  <meta name="image" content="/assets/img/newlogo.png">
  <link rel="icon" href="/assets/img/newlogo.png">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet" />
  <meta name="sps-bot" content="true">
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="stylesheet" href="/assets/css/index.css" />
  <link rel="stylesheet" href="/assets/css/animations.css" />
  <script src="/assets/js/functions.js"></script>
  <script>
    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
      window.location.href = "mobile.html";
    }
  </script>
</head>

<body>
  <nav>
    <div class="heading">
      <a href="/#" class="headinglink">Snorlax's Cave</a>
    </div>
    <ul class="nav-links">
      <li><a class="active" href="/">Home</a></li>
      <li><a href="/math">Games</a></li>
      <li><a href="/english">Apps</a></li>
      <li><a href="/about">About</a></li>
      <li><a href="/settings">Settings</a></li>
    </ul>
  </nav>
  <div class="proxyform-content">
    <div data-m="bounce-down" data-m-duration="1">
      <h1 class="large">Welcome to Snorlax's Cave!</h1>
      <br>
      <br>
      <form id="sj-form" class="proxyform" onsubmit="return false;">
        <input type="text" name="url" class="proxy" id="sj-address" tag="searchbar" placeholder="Search the web!">
        <input type="hidden" id="sj-search-engine" value="https://www.google.com/search?q=%s">
        <script src="/scram/scramjet.all.js"></script>
        <script src="/baremux/index.js"></script>
        <script>
          const { ScramjetController } = $scramjetLoadController();
          const scramjet = new ScramjetController({
            files: {
              wasm: '/scram/scramjet.wasm.wasm',
              all: '/scram/scramjet.all.js',
              sync: '/scram/scramjet.sync.js',
            },
          });
          scramjet.init();
          const connection = new BareMux.BareMuxConnection("/baremux/worker.js");
          const form = document.getElementById("sj-form");
          const address = document.getElementById("sj-address");
          const searchEngine = document.getElementById("sj-search-engine");

          async function registerSW() {
            if (!navigator.serviceWorker) throw new Error("Browser doesn't support service workers.");
            await navigator.serviceWorker.register("./sw.js");
          }

          form.addEventListener("submit", async (event) => {
            event.preventDefault();
            try {
              await registerSW();
            } catch (e) { console.error(e); }
            let url = address.value.trim();
            if (!/^http(s?):\/\//.test(url) && (url.includes(".") && url.substr(0, 1) !== " ")) {
              url = "http://" + url;
            } else if (!url.includes(".")) {
              url = searchEngine.value.replace("%s", encodeURIComponent(url));
            }
            let wispUrl = (location.protocol === "https:" ? "wss" : "ws") + "://" + location.host + "/wisp/";
            await connection.setTransport("/epoxy/index.mjs", [{ wisp: wispUrl }]);
            localStorage.setItem("agUrl", url);
            location.href = "/dashboard";
          });

          address.addEventListener("keydown", (e) => {
            if (e.key === "Enter") form.dispatchEvent(new Event("submit"));
          });
        </script>
      </form>
    </div>
  </div>
  <div class="v2" onclick="window.open('https://github.com/Snorlaxs-Cave/Snorlaxs-Cave-v4', '_blank')">
    <div style="cursor: pointer; color: rgb(255, 255, 255);">Snorlax & CO 2025 - Version 4</div>
  </div>
  <script>

    var bgUrl = localStorage.getItem('backgroundImage');
    if (bgUrl === 'none' || bgUrl === null || bgUrl === 'https://cdn.discordapp.com/attachments/1286122796258299955/1286125045588033579/fd820958718cd7a59147c4310c8dfab3.png?ex=66ecc4c9&is=66eb7349&hm=7ff6ba0a866c17a5ee4dbecaac4ced1026e81ae8d1d09bbd12c6904848c2df52&') {
      document.body.style.backgroundImage = `url('')`;
    } else {
      document.body.style.backgroundImage = `url(${bgUrl})`;
    }
  </script>
  <script>
    function changeTabName() {
      var name = document.getElementById('name').value;
      document.title = name;
      localStorage.setItem('tabName', name);
    }

    function loadTabName() {
      var name = localStorage.getItem('tabName');
      if (name) {
        document.title = name;
        document.getElementById('name').value = name;
      }
    }

    window.addEventListener('load', loadTabName);
  </script>
  <script>
    function setPanicKey() {
      var panicKey = document.getElementById("panicKey").value;
      var panicUrl = document.getElementById("panicUrl").value;

      if (!panicUrl.startsWith("https://")) {
        panicUrl = "https://" + panicUrl;
      }

      localStorage.setItem("panicKey", panicKey);
      localStorage.setItem("panicUrl", panicUrl);
    }
    document.addEventListener("keydown", function (event) {
      var storedPanicKey = localStorage.getItem("panicKey");
      var storedPanicUrl = localStorage.getItem("panicUrl");

      if (event.key === storedPanicKey && storedPanicUrl) {
        window.location.replace(storedPanicUrl);
      }
    });
  </script>
</body>
<script>
  function changeIcon() {
    var iconUrl = document.getElementById("iconUrl").value;
    localStorage.setItem("iconUrl", iconUrl);

    var link = document.querySelector("link[rel*='icon']");
    if (link) {
      link.parentNode.removeChild(link);
    }

    var newLink = document.createElement("link");
    newLink.type = "image/x-icon";
    newLink.rel = "icon";
    newLink.href = iconUrl;
    document.head.appendChild(newLink);
  }

  window.addEventListener("DOMContentLoaded", function () {
    var storedIconUrl = localStorage.getItem("iconUrl");
    if (storedIconUrl) {
      document.getElementById("iconUrl").value = storedIconUrl;
      changeIcon();
    }
  });
  window.addEventListener("DOMContentLoaded", function () {
    var storedIconUrl = localStorage.getItem("iconUrl");
    if (storedIconUrl) {
      var link = document.createElement("link");
      link.type = "image/x-icon";
      link.rel = "icon";
      link.href = storedIconUrl;
      document.head.appendChild(link);
    }
  });
</script>
<script>
  window.onload = function () {
    var savedImage = localStorage.getItem('backgroundImage');
    if (savedImage) {
      var output = document.body;
      output.style.backgroundImage = "url('" + savedImage + "')";
      output.style.backgroundSize = "cover";
      output.style.backgroundRepeat = "no-repeat";
    }
  };

  var loadFile = function () {
    document.getElementById('fileInput').click();
  };

  var showImage = function (event) {
    var reader = new FileReader();
    reader.onload = function () {
      var output = document.body;
      output.style.backgroundImage = "url('" + reader.result + "')";
      output.style.backgroundSize = "cover";
      output.style.backgroundRepeat = "no-repeat";

      localStorage.setItem('backgroundImage', reader.result);
    };
    reader.readAsDataURL(event.target.files[0]);
  };
</script>
<script>
  window.onload = function () {
    var savedImage = localStorage.getItem('backgroundImage');
    if (savedImage) {
      var output = document.body;
      output.style.backgroundImage = "url('" + savedImage + "')";
      output.style.backgroundSize = "cover";
      output.style.backgroundRepeat = "no-repeat";
    }
  };

  var loadFile = function () {
    document.getElementById('fileInput').click();
  };

  var showImage = function (event) {
    var reader = new FileReader();
    reader.onload = function () {
      var output = document.body;
      output.style.backgroundImage = "url('" + reader.result + "')";
      output.style.backgroundSize = "cover";
      output.style.backgroundRepeat = "no-repeat";

      localStorage.setItem('backgroundImage', reader.result);
    };
    reader.readAsDataURL(event.target.files[0]);
  };
</script>
<script>
  window.addEventListener('keydown', (event) => {
    const keysPressed = (event.key === '~');
    if (keysPressed) {
      localStorage.clear();
      alert('All settings save data cleared');
      location.reload(true);
    }
  });
</script>
<script>
  window.addEventListener('keydown', (event) => {
    const keysPressed = (event.key === '`');
    if (keysPressed) {
      document.cookie.split(";").forEach(cookie => {
        document.cookie = cookie.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/");
      });
      alert('All saved cookie data cleared');
      location.reload(true);
    }
  });
</script>
<script>
  function checkPopups() {
    var newWin = window.open("", "", "width=100, height=100");
    if (newWin) {
      newWin.close();
      return true;
    } else {
      say1();
      return false;
    }
  }

  function say1() {
    alert("HELL0! for auto cloaking in about:blank please allow pop ups!");
  }

  window.addEventListener('load', function () {
    var currentUrl = window.location.href;
    var bgUrl = localStorage.getItem('backgroundImage');
    if (currentUrl !== "about:blank" && !sessionStorage.getItem('tabOpened')) {
      if (checkPopups()) {
        sessionStorage.setItem('tabOpened', 'true');
        var win = window.open('about:blank', '_blank');
        win.document.write("<html style='height:100%; margin:0; padding:0;'><body style='height:100%; margin:0; padding:0;'><iframe src='" + currentUrl + "' style='width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999;'></iframe></body></html>");
        win.onbeforeunload = function () {
          sessionStorage.removeItem('tabOpened');
        };
        window.close();
      } else if (!sessionStorage.getItem('alertShown')) {
        sessionStorage.setItem('alertShown', 'true');
      }
    }
  });
</script>
<script>
  document.querySelector('.apps').addEventListener('contextmenu', e => {

    const appLink = e.target.closest('a');

    if (appLink) {
      e.preventDefault();

      const pinnedLink = appLink.cloneNode(true);
      document.querySelector('.pinned-apps').appendChild(pinnedLink);

      savePinnedLinks();
    }

  });

  document.querySelector('.pinned-apps').addEventListener('contextmenu', e => {

    const pinnedLink = e.target.closest('a');

    if (pinnedLink) {
      e.preventDefault();

      pinnedLink.remove();

      savePinnedLinks();
    }

  });

  function savePinnedLinks() {

    const pinnedEl = document.querySelector('.pinned-apps');
    const pinnedHTML = pinnedEl.innerHTML;

    localStorage.setItem('pinnedLinks', pinnedHTML);

  }

  document.addEventListener('DOMContentLoaded', () => {

    const savedPinned = localStorage.getItem('pinnedLinks');

    if (savedPinned) {
      document.querySelector('.pinned-apps').innerHTML = savedPinned;
    }

  });
</script>
<script>

  var bgUrl = localStorage.getItem('backgroundImage');
  if (bgUrl === 'none' || bgUrl === null || bgUrl === '') {
    document.body.style.backgroundImage = `url('/assets/img/snorlax_background.jpg')`;
  } else {
    document.body.style.backgroundImage = `url(${bgUrl})`;
  }
</script>
<script>
  function changeTabName() {
    var name = document.getElementById('name').value;
    document.title = name;
    localStorage.setItem('tabName', name);
  }

  function loadTabName() {
    var name = localStorage.getItem('tabName');
    if (name) {
      document.title = name;
      document.getElementById('name').value = name;
    }
  }

  window.addEventListener('load', loadTabName);
</script>
<script>
  function setPanicKey() {
    var panicKey = document.getElementById("panicKey").value;
    var panicUrl = document.getElementById("panicUrl").value;

    if (!panicUrl.startsWith("https://")) {
      panicUrl = "https://" + panicUrl;
    }

    localStorage.setItem("panicKey", panicKey);
    localStorage.setItem("panicUrl", panicUrl);
  }
  document.addEventListener("keydown", function (event) {
    var storedPanicKey = localStorage.getItem("panicKey");
    var storedPanicUrl = localStorage.getItem("panicUrl");

    if (event.key === storedPanicKey && storedPanicUrl) {
      window.location.replace(storedPanicUrl);
    }
  });
</script>
</div>
</body>

</html>